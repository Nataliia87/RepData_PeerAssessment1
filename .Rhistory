count<-function(i=1:332){
for(i in 1:332){
fileName <- formatC(i, width=3, flag="0")
filePath <- paste(directory, "/", fileName,".csv",sep="");
data <- read.csv(file=filePath, header=TRUE,sep=",")
good<-complete.cases(data)
z<-data[good, ]
y<-nrow(z)
if(y>threshold){
cdata<-z
c<-cor(cdata[,2],cdata[,3])
z<-as.vector(c)
t<-round(z, digits = 5)
print(t)
}else{
c<-c(0)
}
}
}
l<-apply(cdata,1,count)
print(l)
}
corr("specdata",150)
corr<-function(directory,threshold=0) {
count<-function(i=1:332){
for(i in 1:332){
fileName <- formatC(i, width=3, flag="0")
filePath <- paste(directory, "/", fileName,".csv",sep="");
data <- read.csv(file=filePath, header=TRUE,sep=",")
good<-complete.cases(data)
z<-data[good, ]
y<-nrow(z)
if(y>threshold){
cdata<-z
c<-cor(cdata[,2],cdata[,3])
z<-as.vector(c)
t<-round(z, digits = 5)
print(t)
}else{
c<-c(0)
}
}
}
l<-apply(i,1,count)
print(l)
}
corr("specdata",150)
corrtest<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
}
}
corrtest<-corr("specdata",400)
}
corrtest<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
}
}
}
corrtest<-corr("specdata",400)
corrtest400<-corr("specdata",400)
corrtest<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
}
}
}
corrtest400<-corrtest("specdata",400)
corrtest400
corrtest<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
}
}
scr
}
corrtest400<-corrtest("specdata",400)
corrtest400
corrvec400<-corr("specdata",400)
corrtest<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
}
}
scr
}
corrtest400<-corrtest("specdata",400)
corrtest400
tail(corrtest400)
corrvec400<-corr("specdata",400)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(c(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs"))
}else{
scr<-c(0)
}
}
scr
}
corr("specdata",150)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
}else{
scr<-c(0)
}
}
scr
}
corr("specdata",150)
corr("specdata",400)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
print(scr)
}else{
scr<-c(0)
}
}
}
corr("specdata",150)
corrvec150<-corr("specdata",150)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
print(scr)
}else{
scr<-c(0)
}
}
z<-vector()
z<-values$scr
print(z)
}
corr("specdata",150)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
print(scr)
values<-c(values,scr)
}else{
scr<-c(0)
}
}
print(values)
}
corr("specdata",150)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
}else{
scr<-c(0)
}
}
print(values)
}
corr("specdata",150)
cr<-corr("specdata",150)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
}else{
scr<-c(0)
}
}
}
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
}else{
scr<-c(0)
}
}
}
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
}else{
scr<-c(0)
}
}
}
cr<-corr("specdata",150)
summary(cr)
head(cr)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
(values)
}else{
values<-c(0)
}
}
}
cr<-corr("specdata",150)
head(cr)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
values
}else{
values<-c(0)
}
}
}
cr<-corr("specdata",150)
head(cr)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
}else{
values<-c(0)
}
}
print(values)
}
corr("specdata",150)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
print(values)
}else{
values<-c(0)
}
}
}
corr("specdata",150)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
print(values)
}else{
scr<-c(0)
}
}
}
corr("specdata",150)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
print(values)
}else{
scr<-c(0)
}
}
}
corr("specdata",150)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
}else{
scr<-c(0)
}
}
print(values)
}
corr("specdata",150)
cr<-corr("specdata",150)
head(cr)
summary(cr)
cr<-corr("specdata",400)
summary(cr)
cr<-corr("specdata",5000)
summary(cr)
cr<-corr("specdata")
summary(cr)
complete<-function(directory,id=1:332){
y<-NULL
values<-numeric()
for(i in id) {
fileName <- formatC(i, width=3, flag="0")
filePath <- paste(directory, "/", fileName,".csv",sep="");
data <- read.csv(file=filePath, header=TRUE,sep=",")
good<-complete.cases(data)
z<-data[good, ]
y<-nrow(z)
print(y)
values<-c(values,y)
}
d<-data.frame(id,nobs=values)
print(d)
}
complete("specdata",1)
complete("specdata",c(2,4,8,10,12))
complete("specdata",30:25)
complete("specdata",3)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
}else{
scr<-c(0)
}
}
}
cr<-corr("specdata",150)
head(cr)
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
}else{
scr<-c(0)
}
}
values
}
cr<-corr("specdata",150)
head(cr)
pollutantmean <- function(directory, pollutant,id = 1:332){
if(pollutant == "sulfate"){
columnIndex <- 2;
} else if(pollutant == "nitrate"){
columnIndex <- 3;
}
data<-data.frame()
for(i in id){
fileName <- formatC(i, width=3, flag="0")
filePath <- paste(directory, "/", fileName,".csv",sep="");
data <- rbind(data,read.csv(file=filePath, header=TRUE,sep=","))
}
newdata<-data.frame(data,ncol=columnIndex)
good<-complete.cases(newdata)
clear<-newdata[good,columnIndex]
meaning<- mean(clear)
z<- round(meaning,digits = 3)
print(z)
}
pollutantmean("specdata","sulfate",1:10)
pollutantmean("specdata","nitrate",70:72)
pollutantmean("specdata","sulfate",34)
pollutantmean("specdata","nitrate")
complete<-function(directory,id=1:332){
y<-NULL
values<-numeric()
for(i in id) {
fileName <- formatC(i, width=3, flag="0")
filePath <- paste(directory, "/", fileName,".csv",sep="");
data <- read.csv(file=filePath, header=TRUE,sep=",")
good<-complete.cases(data)
z<-data[good, ]
y<-nrow(z)
values<-c(values,y)
}
d<-data.frame(id,nobs=values)
print(d)
}
cc<-complete("specdata",c(6,10,20,34,100,200,310))
print(cc$nobs)
cc<-complete("specdata",54)
set.seed(42)
cc<-complete("specdata",332:1)
use<-sample(332,10)
print(cc[use,"nobs"])
corr<-function(directory,threshold=0){
files_list<-list.files(directory,full.names=TRUE)
values<-numeric()
for(i in 1:332){
dat<-read.csv(files_list[i])
if(sum(complete.cases(dat)) > threshold){
scr <- cor(dat[["sulfate"]],dat[["nitrate"]],use="complete.obs")
t<-round(scr, digits = 5)
values<-c(values,t)
}else{
scr<-c(0)
}
}
values
}
cr<-corr("specdata")
cr<-sort(cr)
set.seed(868)
out<-round(cr[sample(length(cr),5)],4)
print(out)
cr<-corr("specdata",129)
cr<-sort(cr)
n<-length(cr)
set.seed(197)
out<-c(n,round (cr[sample(n,5)],4))
print(out)
cr<-corr("specdata",2000)
n<-length(cr)
cr<-corr("specdata",1000)
cr<-sort(cr)
print(c(n,round(cr,4)))
setwd("D:/Coursera/5ReprodResearch/RepData_PeerAssessment1")
Sys.setlocale("LC_ALL","English")
data<-read.csv("activity.csv")
head(data)
data$date<-as.Data(data$date)
data$date<-as.Date(data$date)
weekdays(data$date[2])
download.packages("utils")
.libPaths(new = "/home/someuser/R/library")
.libPaths(new = "/home/Наташка/R/library")
download.packages("utils")
.libPaths(new = "/home/Наташка/R/win-library")
download.packages("utils")
.libPaths()
.libPaths(new = "/home/Наташка/R/win-library")
.libPaths()
.libPaths(new = "C:\Users\Наташка\Documents\R\win-library")
.libPaths(new = "C:/Users/Наташка/Documents/R/win-library")
.libPaths()
